---
import "@fontsource-variable/inter";
import "@/styles/global.css";

import BaseHead from "@/components/BaseHead.astro";
import Navbar from "@/components/Navbar.astro";
import Sidebar from "@/components/Sidebar.astro";
import Footer from "@/components/Footer.astro";

interface Props {
  title: string;
  description: string;
  image?: string;
}

const { title, description, image } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={title} description={description} image={image} />
  </head>
  <body>
    <div
      x-data="{ sidebarIsOpen: false }"
      class="relative flex w-full flex-col md:flex-row"
    >
      <a class="sr-only" href="#main-content">Skip to main content</a>

      <!-- Mobile Overlay -->
      <div
        x-cloak
        x-show="sidebarIsOpen"
        class="fixed inset-0 z-20 bg-gray-950/10 backdrop-blur-xs md:hidden"
        aria-hidden="true"
        x-on:click="sidebarIsOpen = false"
        x-transition.opacity
      >
      </div>

      <Sidebar />

      <!-- Main Content Area -->
      <div class="flex min-h-screen w-full flex-col bg-gray-50">
        <Navbar />
        <main id="main-content" class="flex-1 p-4 sm:p-6 lg:p-8">
          <slot />
        </main>
        <Footer />
      </div>
    </div>
  </body>
</html>
